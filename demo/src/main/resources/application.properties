spring.application.name=Proyecto IS

# ==============================================================
# 1. CONFIGURACIÓN DE BASE DE DATOS (Híbrida: Local/Nube)
# ==============================================================
# Si existe SPRING_DATASOURCE_URL (en Railway), úsala. Si no, usa localhost.
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mysql://localhost:3306/idiomas_db?createDatabaseIfNotExist=true&useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true}

# Usuario: toma la variable de Railway o usa 'root' por defecto
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}

# Contraseña: toma la variable de Railway o vacío para XAMPP
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:}

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ==============================================================
# 2. CONFIGURACIÓN JPA / HIBERNATE
# ==============================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# ==============================================================
# 3. SUBIDA DE ARCHIVOS
# ==============================================================
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

# ==============================================================
# 4. SEGURIDAD (JWT)
# ==============================================================
# Es mejor ocultar la clave secreta también en una variable de entorno
app.jwtSecret=${JWT_SECRET:EstaEsUnaClaveSecretaMuyLargaParaElProyectoDuolingoDeLaUniversidad2026}
app.jwtExpirationMs=86400000

# ==============================================================
# 5. CONFIGURACIÓN DEL SERVIDOR
# ==============================================================
# Railway asigna un puerto dinámico mediante la variable PORT
server.port=${PORT:8080}